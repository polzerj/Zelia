openapi: 3.1.0
info:
  title: openapi
  version: "1.0"
  contact:
    name: Johannes Polzer
    email: johannes.polzer@edu.szu.at
  description: API for ZELIA
servers:
  - url: "http://localhost:3000"
paths:
  /api/room:
    parameters: []
    get:
      summary: Get list of available rooms
      tags: []
      operationId: get-room-numbers
      parameters: []
      description: Get list of available rooms
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                description: ""
                minItems: 1
                uniqueItems: true
                x-examples:
                  example-1:
                    - roomNumber: S1308
                      name: 5AHITN
                      description: Klassenraum der 5A/BHITN
                      type: Class
                      isWheelchairAccessible: true
                      hasTeacherComputer: true
                      projector: normal
                      projectorConnectors:
                        - HDMI
                        - " VGA"
                      hasWater: false
                      boards:
                        - normal
                      numberOfComputers: 1
                      numberOfSeats: 26
                items:
                  type: string
        "500":
          description: Internal Server Error
  "/api/room/{roomNumber}":
    parameters:
      - schema:
          type: string
        name: roomNumber
        in: path
        required: true
    get:
      summary: Your GET endpoint
      tags: []
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                description: ""
                minItems: 1
                uniqueItems: true
                x-examples:
                  example-1:
                    - roomNumber: S1308
                      name: 5AHITN
                      description: Klassenraum der 5A/BHITN
                      type: Class
                      isWheelchairAccessible: true
                      hasTeacherComputer: true
                      projector: normal
                      projectorConnectors:
                        - HDMI
                        - " VGA"
                      hasWater: false
                      boards:
                        - normal
                      numberOfComputers: 1
                      numberOfSeats: 26
                items:
                  type: object
                  properties:
                    roomNumber:
                      type: string
                      minLength: 1
                    name:
                      type: string
                      minLength: 1
                    description:
                      type: string
                      minLength: 1
                    type:
                      type: string
                      minLength: 1
                    isWheelchairAccessible:
                      type: boolean
                    hasTeacherComputer:
                      type: boolean
                    projector:
                      type: string
                      minLength: 1
                    projectorConnectors:
                      type: array
                      items:
                        type: string
                    hasWater:
                      type: boolean
                    boards:
                      type: array
                      items:
                        type: string
                    numberOfComputers:
                      type: number
                    numberOfSeats:
                      type: number
                  required:
                    - roomNumber
                    - name
                    - description
                    - type
                    - isWheelchairAccessible
                    - hasTeacherComputer
                    - projector
                    - projectorConnectors
                    - hasWater
                    - boards
                    - numberOfComputers
                    - numberOfSeats
            application/xml:
              schema:
                type: object
                properties: {}
            multipart/form-data:
              schema:
                type: object
                properties: {}
        "404":
          description: Not Found
        "500":
          description: Internal Server Error
      operationId: get-api-room-roomNumber
  "/api/room/{roomNumber}/timetable":
    parameters:
      - schema:
          type: string
        name: roomNumber
        in: path
        required: true
    get:
      summary: Get room by room number
      operationId: get-room-room-number
      description: Get timetable by room Number
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ULesson"
        "404":
          description: Not Class Found
        "500":
          description: Internal Server Error
  "/api/room/{roomNumber}/book":
    parameters:
      - schema:
          type: string
        name: roomNumber
        in: path
        required: true
    post:
      summary: Post booking
      operationId: post-api-room-roomNumber-book
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: string
                purpose:
                  type: string
                from:
                  type: integer
                until:
                  type: integer
      description: ""
  "/api/room/{roomNumber}/report":
    parameters:
      - schema:
          type: string
        name: roomNumber
        in: path
        required: true
    post:
      summary: ""
      operationId: post-api-room-roomNumber-report
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
components:
  schemas:
    UTeacher:
      description: ""
      type: object
      properties:
        id:
          type: number
        name:
          type: string
          minLength: 1
        longname:
          type: string
          minLength: 1
      required:
        - id
        - name
        - longname
      x-examples:
        example-1:
          id: 174
          name: ZACH
          longname: ZACHERL
    USubject:
      description: ""
      type: object
      properties:
        id:
          type: number
        name:
          type: string
          minLength: 1
        longname:
          type: string
          minLength: 1
      required:
        - id
        - name
        - longname
      x-examples:
        example-1:
          id: 496
          name: NWT1
          longname: Netzwerktechnik
    URoom:
      description: ""
      type: object
      properties:
        id:
          type: number
        name:
          type: string
          minLength: 1
        longname:
          type: string
          minLength: 1
      required:
        - id
        - name
        - longname
      x-examples:
        example-1:
          id: 305
          name: EDV 2406a
          longname: Teilungsraum zu EDV 2406 (vormals EDV6)
    ULesson:
      description: ""
      type: object
      x-examples:
        example-1:
          id: 1263062
          date: 20211018
          startTime: 1345
          endTime: 1435
          kl:
            - id: 973
              name: 3BHITN
              longname: HTL IT-NWTK
          te:
            - id: 174
              name: ZACH
              longname: ZACHERL
            - id: 221
              name: RESC
              longname: RESCH
          su:
            - id: 496
              name: NWT1
              longname: Netzwerktechnik
          ro:
            - id: 305
              name: EDV 2406a
              longname: Teilungsraum zu EDV 2406 (vormals EDV6)
          lsnumber: 72700
          activityType: Unterricht
      properties:
        id:
          type: number
        date:
          type: number
        startTime:
          type: number
        endTime:
          type: number
        kl:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            $ref: "#/components/schemas/UClass"
        te:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            $ref: "#/components/schemas/UTeacher"
        su:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            $ref: "#/components/schemas/USubject"
        ro:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            $ref: "#/components/schemas/URoom"
        lsnumber:
          type: number
        activityType:
          type: string
          minLength: 1
      required:
        - id
        - date
        - startTime
        - endTime
        - kl
        - te
        - su
        - ro
        - lsnumber
        - activityType
    UClass:
      description: ""
      type: object
      properties:
        id:
          type: number
        name:
          type: string
          minLength: 1
        longname:
          type: string
          minLength: 1
      required:
        - id
        - name
        - longname
      x-examples:
        example-1:
          id: 943
          name: 3AFITN
          longname: FS Informationstechnik (NWTK)
  parameters: {}
