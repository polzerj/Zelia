\hone{Allgmeineines}
\sectionauthor{Julian Kusternigg}

\htwo{Einführung}

% tofix: Zentrale groß? 
% verweinfachen? 
% Passiv vermeiden?
% Bestrichsetzung!!
Das Zentrale, einheitliche Lehrrauminformationsauslesystem, kurz ZELIA, ist vereinfacht gesagt ein Programm, mit dem man Informationen von Lehrräumen abfragen und setzen kann. Ziel von ZELIA ist in Schulen verwendet zu werden, um schnelle Infos über Räume zu erlangen, ohne sich an Lehrer*innen wenden zu müssen. Da ZELIA im "Schulzentrum Ungargasse" entwickelt wurde beziehen sich Tests und Beispiele oft auf diese. Die Anwendung des Programmes ist jedoch Ortsunabhängig, da die einzige Voraussetzung zur Verwendung eine gültige Raumnummer, für jeden Raum der abgefragt werden soll, ist. 

Das Frontend von ZELIA läuft als Web-Applikation, was bedeutet, dass man nur einen Browser braucht mit dem man die Seite aufrufen und verwenden kann. Das Backend läuft in Docker-Containern welche es möglich machen die Software von überall zu starten.

Um Informationen eines Raumes abzufragen, braucht man nur die jeweilige Raumnummer. Bei diesen Infos, handelt es sich zum einem um Standarddaten eines Raumes. Beispiele dafür wären, die Anzahl von Plätzen und Computern in einem Raum oder welche Arten von Tafeln sich in diesem befinden. Zum Anderen werden die Raumstundenpläne von WebUntis abgefragt, damit man immer den aktuellsten Stundenplan sehen kann.

Neben dem abfragen von Rauminformationen, kann man mit ZELIA auch Anmerkungen zu Räumen stellen. Somit kann man Defekte oder Mängel in Räumen melden. Zusätzlich kann man Räume buchen und somit ausborgen, falls diese Frei sind, und für Nachhilfe oder andere Zwecke benötigt werden. Die Meldungen und Buchungen werden auf einem "Admin Dashboard" angezeigt, wo sie auch abgearbeitet und bestätigt oder abgelehnt werden können. 

Um eine Meldung oder Buchung zu tätigen muss man eine E-Mailadresse angeben, im Fall von ZELIA im Schulzentrum Ungargasse eine EDU-Mailadresse, damit nicht jeder eine Meldungen oder Buchen erstellen kann. An die angegebene E-Mailadresse wird eine Bestätigungslink geschickt und erst wenn dieser Aufgerufen wird, ist die Anfrage genehmigt. Somit wird verhindert, dass man sich einen Account anlegen muss um Meldungen zu tätigen und trotzdem kann man nachvollziehen, welche Schüler*innen defekte gemeldet haben. Dieses Konzept wird bei ZELIA verwendet, da wir davon ausgehen, dass Niemand sich einen Account anlegen wollen würde oder sich mühsam mit einem vorgegeben Benutzer anmelden will. Die EDU-Mailadresse, die sowieso alle besitzen, ist somit in diesem Fall viel komfortabler. Es kann passieren, dass Schüler*innen sich einen Spaß erlauben und nicht ihre eigenen EDU-Mailadressen angeben. Dadurch würde irgendjemand eine Mail bekommen die nicht gewünscht ist. Wir vom ZELIA-Entwicklungsteam sehen das allerdings nicht als so schlimmes Problem, denn erstens können sowieso alle Schüler*innen sich gegenseitig so viele Mails schicken wie sie wollen. Zweitens könnte man einen eigenen Order für alle ZELIA Bestätigungen einrichen und drittens könnte man limitieren, dass man nur eine bestimmte Anzahl an Meldungen pro Zeitintervall machen darf. Wenn nun eine Buchung akzeptiert oder abgelehnt wird, bekommt man eine Mail geschickt in der ein kurzer Informationstext steht und ob man den Raum benutzen darf oder ob die Anfrage abgelehnt wurde.

Da ZELIA eine Software ist, die spezifisch für Schulen entwickelt wurde, besteht die Zielgruppe vor allem aus Schüler*innen und Lehrer*innen die täglich in mehreren Lehrräumen unterwegs sind. Für diese ist es oft praktisch zu schauen in welchem Raum sie später vielleicht sein werden und welche technischen Mittel dort zu Verfügung stehen. Aber auch für Besucher*innen einer Schule, zum Beispiel an einem Tag der offenen Tür, könnte ZELIA zu nutzen sein. So könnte man selbst ohne Begleitung durch die Schule gehen und Informationen über Raume und z.B. Projekte in diesen erfahren.

Aufteilen kann man ZELIA in 3 Teile: Den "Client", den Server und die Datenbank. Jeder dieser Teile ist in sich geschlossen und einzeln geplant und implementiert worden.

\htwo{Server}

Der ZELIA-Server ist das Herzstück von ZELIA. Er sammelt und stellt alle Daten zu Verfügung welche benötigt werden um die Software auf den Endgeräten, also den Clients, darzustellen. Dafür wird der Server nochmal in 3 Teile unterteilt.

\begin{itemize}
    \item Der Erste und wichtigste Teil ist die Schnittstelle für die Endgeräte, genannt ZELIA-API ("Application Programming Interface"). Über diese Schnittstelle fragt das Client-Programm Informationen über Räume ab oder sendet Meldungs- und Buchungsanfragen aus.
    \item Der zweite Teil ist die Schnittstelle zwischen Server und Datenbank. Primär werden aus der Datenbank Informationen über Räume abgefragt, aber auch andere Daten wie Administratorbenutzer um Meldungen und Buchungen zu verwalten stehen in der Datenbank zu Verfügung. 
    \item Der dritte und somit letze Teil kümmert sich um die Abfragen von WebUntis, um Zugriff auf aktuelle Stundenpläne jeweiliger Raume zu bekommen.
\end{itemize}

Der Server ist implementiert mittels NodeJS, einer Javascript-Engine, da es somit einfacher ist mit dem Frontend zu komunizieren und es viele vorgefertigt Pakete gibt um ein schnelles Backend zu entwerfen. Statt Javascript wird bei ZELIA allerding TypeScript verwendet, welches aber in Javascript umgewandelt wird. Was genau Typescript ist und warum wir es bei ZELIA verwenden, wird später erklärt. (siehe Kapitel Typescript)

\htwo{Datenbank}

Physisch gesehen ist die ZELIA Datenbank Teil des ZELIA Servers. Alle Informationen wie die Anzahl von Plätzen oder Computern werden in der ihr gespeichert. Dort sind auch Meldungen und Buchungen von Räumen abgelegt, damit später darauf zurückgegriffen werden kann. Um die Meldungen und Buchungen abzufragen, braucht man einen Administratorbenutzer. Diese Administratoren sind auch in der Datenbank gespeichert. Die Datenbank steht abgeschottet in einem privaten Netz, welches mittels Containertechnologien (siehe Kapitel Docker und andere Containertechnologien) bewerkstelligt wird, und kann nur über definierte Schnittstellen vom Server angesprochen und abgefragt werden. Verwendet wird die Datenbank "MariaDB". Am Datenbankteil des ZELIA-Servers wird "Sequelize" verwendet, um abfragen zu machen.

\htwo{Client}

Damit ZELIA einfach zu verwenden ist, baut der Client auf modernen Web Technologien auf. Somit ist der ZELIA Client eine Web-Anwendung, auf die man mit jedem Gerät zugreifen kann, egal ob Computer oder Smartphone. Da ZELIA mobil sein muss, ist die Web-Applikation so optimiert, dass sie auch auf leistungsschwächeren Geräten und Smartphones gut funktioniert. Das Frontend wurde mit Fokus auf eine einfache Verwendung auf Smartphones entwickelt, da es durch die Außenkameras dieser Endgeräte ein wichtiges Feature gibt. Normalerweiße, also auf Geräten ohne Außenkamera, muss man die Raumnummer selbst eingeben um die Informationen von diesem Raum zu bekommen. Durch die Außenkamera von Smartphones gibt es allerdings die Möglichkeit Raumnummern, zum Beispiel von Türschildern, einzuscannen. 

Nachdem man auf der Startseite eine Raumnummer eingegeben hat, egal ob manuell oder gescannt, sieht man die jeweiligen Informationen eines Raumes. Wie schon erwähnt gibt es auch die Möglichkeit Raume zu melden oder zu buchen. Meldungen und Buchungen können im sogenannten "Admin Dashboard" angesehen und nach Relevanz gefiltert werden. Auf diese Administratorübersicht kann auch über die Web-Anwendung zugegriffen werden, aber nur mit gültigem Benutzernamen und Passwort eines verifizierten Administrators, welcher in der Datenbank gespeichert ist.

Realisiert ist das Frontend von ZELIA von Grund auf mit HTML5 und CSS. Statt Javascript wird auch hier Typescript verwendet, welches aber in normales vom Browser interpretierbares Javascript umgewandelt wird. 

Das "Frontend" läuft mit Ausnahme von TesseractJS (siehe Kapitel Tesseract), welches bewerkstelligt die Kamera zum Einlesen einer Raumnummer zu verwenden, ganz ohne fremde Bibliotheken. Darauf haben wir uns geeinigt, da erstens Bibliotheken wie zum Beispiel Anglular zu groß für unseren Anwendungsfall wären und somit die Webseite nur langsam machen würden. Zweitens wollten wir herausfinden, wie man eine eigene einfache Bibliothek entwickeln kann, welche nicht nur für eine Anwendung konzipiert ist. Somit haben wir 2 seperate Teile entwickelt, auf denen unser Client basiert: Ein Komponentensystem und einen Client-Side-Router. (siehe Kapitel Web Components und Client-Side-Router in ZELIA)