\hthree{Docker in der Produktion}

Für die Produktion werden die Webseiten für den Client einmal erstellt und als statische Dateien von NGINX bereitgestellt. 
Daher wird der Docker-Container für den Entwicklungs-Vite-Server nicht benötigt. 
Um die Daten der Datenbank zu persistieren, werden sie in einem Docker-Volume gespeichert. 

Allerdings werden für die Produktion Docker-Images für die Rest API und den NGINX Webserver gebaut. Dabei werden alle Abhängigkeiten installiert und der TypeScript-Code wird zu Javascript-Code transpiliert. Dadurch muss zum Starten nur mehr ein Container mit dem erstellten Image erzeugt werden. 
Dabei ist es wichtig, dass alle erforderlichen Umgebungsvariablen gesetzt sind.

\begin{figure}[H]
    \centering
    \includegraphics{media/Docker/ProdNetwork.png}
    \caption{Docker-Netzwerk für die Produktion}
\end{figure}

Da alle Container innerhalb des \ZELIA-Docker-Netzwerks liegen, ist es nicht möglich, dass direkt auf die Datenbank zugegriffen werden kann, da der einzig offene Port auf den NGINX Webserver verweist. 

\css{code/Nginx/prod.conf}{NGINX-Konfiguration für die Produktion}
