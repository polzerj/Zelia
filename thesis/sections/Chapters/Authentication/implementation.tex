\hthree{Implementierung}

Da die tokenbasierende Authentifizierungsmethode einige Vorteile bezüglich des "Load-Balancing" hat, wurde der JWT verwendet, um die Sitzung des Benutzers zu identifizieren.

\hfour{Aufbau der Sitzung}

Um den Benutzer anzumelden werden die Benutzerdaten, mit den im "Body" des "HTTP-Requests" angegebenen Benutzerkenndaten, von der Datenbank abgefragt. Daraufhin wird der Token mit den Benutzerinformationen erstellt, signiert und an den Client zurückgesendet. Dazu wird ein NPM-Modul namens "jsonwebtoken" verwendet. \cite{NpmJWT} Wenn die Benutzerkenndaten nicht mit den Daten aus der Datenbank übereinstimmen, wird ein Fehler mit dem HTTP Status-Code 401 (Unauthorized) zurückgegeben. (Siehe Code \ref{code:LoginController})

\typescript[code:LoginController]{code/Authentication/LoginController.ts}{Implementierung des Login-Controllers}

\pagebreak
\hfour{Validierung der Sitzung}

Um die Sitzung zu validieren, wird eine Middleware verwendet, welche das JWT auf dessen Gültigkeit überprüft. Dazu wird ein Modul namens "jsonwebtoken" verwendet. \cite{NpmJWT} Wenn der Token gültig ist, wird die "next"-Funktion aufgerufen und der Controller wird ausgeführt. Wenn der Token nicht gültig ist, wird der HTTP Status-Code 401 (Unauthorized) zurückgegeben und die Weiterverarbeitung der Anfrage blockiert.

\typescript{code/Authentication/AuthMiddleware.ts}{Validierung der Sitzung}
